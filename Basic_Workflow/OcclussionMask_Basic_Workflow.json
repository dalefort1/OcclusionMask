{"id":"bd586085-ee8c-4e2a-af14-918d2b4e2e58","revision":0,"last_node_id":7,"last_link_id":10,"nodes":[{"id":5,"type":"ReActorMaskHelper","pos":[-2890,2230],"size":[296.755859375,454],"flags":{},"order":5,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":9},{"localized_name":"swapped_image","name":"swapped_image","type":"IMAGE","link":4},{"localized_name":"mask_optional","name":"mask_optional","shape":7,"type":"MASK","link":5},{"localized_name":"bbox_model_name","name":"bbox_model_name","type":"COMBO","widget":{"name":"bbox_model_name"},"link":null},{"localized_name":"bbox_threshold","name":"bbox_threshold","type":"FLOAT","widget":{"name":"bbox_threshold"},"link":null},{"localized_name":"bbox_dilation","name":"bbox_dilation","type":"INT","widget":{"name":"bbox_dilation"},"link":null},{"localized_name":"bbox_crop_factor","name":"bbox_crop_factor","type":"FLOAT","widget":{"name":"bbox_crop_factor"},"link":null},{"localized_name":"bbox_drop_size","name":"bbox_drop_size","type":"INT","widget":{"name":"bbox_drop_size"},"link":null},{"localized_name":"sam_model_name","name":"sam_model_name","type":"COMBO","widget":{"name":"sam_model_name"},"link":null},{"localized_name":"sam_dilation","name":"sam_dilation","type":"INT","widget":{"name":"sam_dilation"},"link":null},{"localized_name":"sam_threshold","name":"sam_threshold","type":"FLOAT","widget":{"name":"sam_threshold"},"link":null},{"localized_name":"bbox_expansion","name":"bbox_expansion","type":"INT","widget":{"name":"bbox_expansion"},"link":null},{"localized_name":"mask_hint_threshold","name":"mask_hint_threshold","type":"FLOAT","widget":{"name":"mask_hint_threshold"},"link":null},{"localized_name":"mask_hint_use_negative","name":"mask_hint_use_negative","type":"COMBO","widget":{"name":"mask_hint_use_negative"},"link":null},{"localized_name":"morphology_operation","name":"morphology_operation","type":"COMBO","widget":{"name":"morphology_operation"},"link":null},{"localized_name":"morphology_distance","name":"morphology_distance","type":"INT","widget":{"name":"morphology_distance"},"link":null},{"localized_name":"blur_radius","name":"blur_radius","type":"INT","widget":{"name":"blur_radius"},"link":null},{"localized_name":"sigma_factor","name":"sigma_factor","type":"FLOAT","widget":{"name":"sigma_factor"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[6]},{"localized_name":"MASK","name":"MASK","type":"MASK","links":null},{"localized_name":"MASK_PREVIEW","name":"MASK_PREVIEW","type":"IMAGE","links":null},{"localized_name":"SWAPPED_FACE","name":"SWAPPED_FACE","type":"IMAGE","links":null}],"properties":{"aux_id":"comfyui-reactor-node.git","ver":"976a8c51bab55fe5443392566ab4e6a9315eed6a","Node name for S&R":"ReActorMaskHelper","widget_ue_connectable":{}},"widgets_values":["bbox/Eyeful_v2-Paired.pt",0.5,10,3,10,"sam_vit_b_01ec64.pth",0,0.93,0,0.7,"False","dilate",0,9,1]},{"id":2,"type":"ReActorFaceSwapOpt","pos":[-3360,1680],"size":[315,258],"flags":{},"order":3,"mode":0,"inputs":[{"localized_name":"input_image","name":"input_image","type":"IMAGE","link":1},{"localized_name":"source_image","name":"source_image","shape":7,"type":"IMAGE","link":10},{"localized_name":"face_model","name":"face_model","shape":7,"type":"FACE_MODEL","link":null},{"localized_name":"options","name":"options","shape":7,"type":"OPTIONS","link":null},{"localized_name":"face_boost","name":"face_boost","shape":7,"type":"FACE_BOOST","link":null},{"localized_name":"enabled","name":"enabled","type":"BOOLEAN","widget":{"name":"enabled"},"link":null},{"localized_name":"swap_model","name":"swap_model","type":"COMBO","widget":{"name":"swap_model"},"link":null},{"localized_name":"facedetection","name":"facedetection","type":"COMBO","widget":{"name":"facedetection"},"link":null},{"localized_name":"face_restore_model","name":"face_restore_model","type":"COMBO","widget":{"name":"face_restore_model"},"link":null},{"localized_name":"face_restore_visibility","name":"face_restore_visibility","type":"FLOAT","widget":{"name":"face_restore_visibility"},"link":null},{"localized_name":"codeformer_weight","name":"codeformer_weight","type":"FLOAT","widget":{"name":"codeformer_weight"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[4]},{"localized_name":"FACE_MODEL","name":"FACE_MODEL","type":"FACE_MODEL","links":null}],"properties":{"aux_id":"comfyui-reactor-node.git","ver":"976a8c51bab55fe5443392566ab4e6a9315eed6a","Node name for S&R":"ReActorFaceSwapOpt","widget_ue_connectable":{}},"widgets_values":[true,"inswapper_128.onnx","retinaface_resnet50","GFPGANv1.4.onnx",1,1]},{"id":6,"type":"SaveImage","pos":[-2490,2230],"size":[1330,1350],"flags":{},"order":6,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":6},{"localized_name":"filename_prefix","name":"filename_prefix","type":"STRING","widget":{"name":"filename_prefix"},"link":null}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.40","Node name for S&R":"SaveImage","widget_ue_connectable":{}},"widgets_values":["ComfyUI"]},{"id":4,"type":"MaskPreview","pos":[-4600,2200],"size":[140,246],"flags":{},"order":4,"mode":0,"inputs":[{"localized_name":"mask","name":"mask","type":"MASK","link":3}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.40","Node name for S&R":"MaskPreview","widget_ue_connectable":{}},"widgets_values":[]},{"id":3,"type":"ImageOcclusion","pos":[-4950,2080],"size":[287.404296875,270],"flags":{},"order":2,"mode":0,"inputs":[{"localized_name":"input_image","name":"input_image","type":"IMAGE","link":8},{"localized_name":"mask_type","name":"mask_type","type":"COMBO","widget":{"name":"mask_type"},"link":null},{"localized_name":"object_mask_threshold","name":"object_mask_threshold","type":"FLOAT","widget":{"name":"object_mask_threshold"},"link":null},{"localized_name":"feather_radius","name":"feather_radius","type":"INT","widget":{"name":"feather_radius"},"link":null},{"localized_name":"grow_left","name":"grow_left","type":"INT","widget":{"name":"grow_left"},"link":null},{"localized_name":"grow_right","name":"grow_right","type":"INT","widget":{"name":"grow_right"},"link":null},{"localized_name":"grow_up","name":"grow_up","type":"INT","widget":{"name":"grow_up"},"link":null},{"localized_name":"grow_down","name":"grow_down","type":"INT","widget":{"name":"grow_down"},"link":null},{"localized_name":"dilation_radius","name":"dilation_radius","type":"INT","widget":{"name":"dilation_radius"},"link":null},{"localized_name":"expansion_iterations","name":"expansion_iterations","type":"FLOAT","widget":{"name":"expansion_iterations"},"link":null}],"outputs":[{"localized_name":"OriginalImage","name":"OriginalImage","type":"IMAGE","links":[1]},{"localized_name":"SelectedMask","name":"SelectedMask","type":"MASK","links":[3,5]}],"properties":{"Node name for S&R":"ImageOcclusion","widget_ue_connectable":{}},"widgets_values":["Object-only",0.7676984476285336,50,0,0,0,0,0,6.143749247439234]},{"id":1,"type":"LoadImage","pos":[-5340,1940],"size":[308.34979248046875,426.8008117675781],"flags":{},"order":0,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"COMBO","widget":{"name":"image"},"link":null},{"localized_name":"choose file to upload","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[8,9]},{"localized_name":"MASK","name":"MASK","type":"MASK","links":null}],"properties":{"cnr_id":"comfy-core","ver":"0.3.34","Node name for S&R":"LoadImage","widget_ue_connectable":{}},"widgets_values":["pasted/image (40).png","image"]},{"id":7,"type":"LoadImage","pos":[-3740,1760],"size":[308.34979248046875,426.8008117675781],"flags":{},"order":1,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"COMBO","widget":{"name":"image"},"link":null},{"localized_name":"choose file to upload","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[10]},{"localized_name":"MASK","name":"MASK","type":"MASK","links":null}],"properties":{"cnr_id":"comfy-core","ver":"0.3.34","Node name for S&R":"LoadImage","widget_ue_connectable":{}},"widgets_values":["Image_00001_.png","image"]}],"links":[[1,3,0,2,0,"IMAGE"],[3,3,1,4,0,"MASK"],[4,2,0,5,1,"IMAGE"],[5,3,1,5,2,"MASK"],[6,5,0,6,0,"IMAGE"],[8,1,0,3,0,"IMAGE"],[9,1,0,5,0,"IMAGE"],[10,7,0,2,1,"IMAGE"]],"groups":[],"config":{},"extra":{"ue_links":[],"links_added_by_ue":[],"ds":{"scale":0.6115909044841805,"offset":[4029.16282384043,-1592.828517862739]},"frontendVersion":"1.21.7","VHS_latentpreview":false,"VHS_latentpreviewrate":0,"VHS_MetadataImage":true,"VHS_KeepIntermediate":true},"version":0.4}